Redis内存中的数据保存到磁盘，因为Redis存内存中，容易丢失，不安全。

set name zs 

RDB：
备份：把Redis内存中的数据，以快照的形式保存到磁盘，dump.rdb 二进制数据 
数据恢复：把备份的文件中的内容直接加载到内存中，数据就可以还原   

AOF:
备份：把对Redis一些写、删除的操作命令以日志的形式，追加到文件中。appendonly.aof
数据恢复：把所有的写、删除命令，重新执行一遍,重新生成数据      

默认或者一般都有RDB，数据备份或者数据恢复效率高些
AOF相对RDB来数据备份更安全（数据丢失更少些）

持久化配置策略
RDB: 
save 900 1    #在900秒(15分钟)之后，如果至少有1个key发生变化，则持久化操作。
save 300 10   #在300秒(5分钟)之后，如果至少有10个key发生变化，则持久化操作。
save 60 10000 #在60秒(1分钟)之后，如果至少有10000个key发生变化，则dump内存快照。
#key 发生变化的频率越高，时间越短
#key 发生变化的频率越低，时间越长

AOF: 默认不开启，appendonly yes
在Redis的配置文件中存在三种同步方式，它们分别是：
appendfsync always     #每次有数据修改发生时都会写入AOF文件。写的命令IO写入磁盘
appendfsync everysec   #每秒钟同步一次，该策略为AOF的缺省策略。
appendfsync no          #内存交换区满的，开是执行一次备份。

RDB、AOF优缺点对比：

		数据恢复		高可用性							备份性能
RDB		速度快			不太安全（丢失数据比较多）		比较快(只需要开启一个子进程进行备份)
AOF		速度慢			相对安全（丢失的数据相对较少）	较慢（每次追加写，都需要开启子进程）


二者选择的标准：
就是看系统是愿意牺牲一些性能，换取更高的缓存一致性（aof），还是愿意写操作频繁的时候，不启用备份来换取更高的性能，待手动运行save的时候，再做备份（rdb）。

